<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/header.css}"/>
    <style>
        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            z-index: 1000;
            display: none;
            width: 100%;
            background-color: white;
            border: 1px solid #ccc;
            border-top: none;
            padding: 10px;
        }
        .show {
            display: block;
        }
    </style>
</head>
<body>
<div class="contenedor-header">

    <div class="logotipo">
        <img th:src="@{/images/logo.png}" width="60px" height="60px" alt="logo">
    </div>

    <div>
        <nav class="contenedor-nav-header">
            <ul class="nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="home.html" target="_top">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="libros.html" target="_top">Catalogo</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="contacto.html" target="_top">Contacto</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="planes.html" target="_top">Planes</a>
                </li>
            </ul>
        </nav>
    </div>

    <div class="contenedor-usuario">
        <!-- Aquí se coloca el componente de búsqueda -->
        <div class="dropdown">
            <span class="material-symbols-outlined" data-toggle="dropdown" aria-expanded="false">
                search
            </span>
            <ul class="dropdown-menu dropdown-menu-right search-results" aria-labelledby="searchDropdown">
                <!-- Aquí se mostrarán los resultados de la búsqueda -->
                <li th:each="libro : ${librosEncontrados}">
                    <a class="dropdown-item" th:href="@{'/libro/' + ${libro.id}}" th:text="${libro.titulo}"></a>
                </li>
                <!-- Agregar un mensaje si no hay resultados -->
                <li th:if="${librosEncontrados.size() == 0}">
                    <span class="dropdown-item">No se encontraron resultados</span>
                </li>
            </ul>
        </div>
        <!-- Enlace a la página del perfil del usuario -->
        <a href="perfil.html" target="_top">
             <span class="material-symbols-outlined">
                person
             </span>
        </a>
    </div>

</div>

</body>
</html>
